Правила размещения элементов в красно-чёрном дереве

    Каждый узел либо красный, либо чёрный, NIL-листья всегда чёрные.
    Корень дерева всегда чёрный
    Оба потомка каждого красного узла — чёрные
    Путь вниз от любого узла до любого листа-потомка содержит одинаковое число чёрных узлов.


При вставке нового элемента ему присваивается красный цвет. Для выполнения первых двух правил достаточно просто перекрашивать новые вершины в нужный цвет. 

Рассмотрим правила балансировки для выполнения 3 и 4 пункта.
На каждом рисунке предполагается, что мы уже добавили элемент Х, который нарушает 3 правило, нужно так изменить структуру дерева, чтобы 3 правило выполнялось, а 4 не нарушилось.


Для класса Node:

    Конструкторы (по умолчанию, параметрический, копирующий)

    Оператор присваивания

    Деструктор (только для самого узла, без рекурсивного удаления детей)

    Геттеры/сеттеры при необходимости

Для класса Tree:

    Управление памятью всего дерева

    Копирующий конструктор и оператор присваивания для всего дерева

    Деструктор для очистки всей памяти

    Методы вставки, удаления, поиска

    Балансировка (для красно-черного дерева)

    Обходы дерева

6. Важные замечания:

    Не делайте рекурсивный delete в деструкторе Node - это может привести к переполнению стека для больших деревьев.

    Копирующий конструктор Node должен копировать только данные узла (ключ, цвет), но не указатели на детей и родителя.

    Копирование структуры дерева должно происходить на уровне класса Tree с помощью рекурсивной функции.

    Оператор присваивания должен защищать от самоприсваивания и корректно освобождать старую память.

    Для красно-черного дерева также нужно корректно копировать цвет узлов и сохранять свойства дерева.